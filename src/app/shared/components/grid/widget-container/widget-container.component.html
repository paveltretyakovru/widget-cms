<div
  class="widget-container"
  style="width: 100%; height: 100%"
  [ngStyle]="{backgroundColor: editable ? 'rgba(0,0,0,.02)' : ''}">

  <div *ngIf="content?.field" style="width: 100%; height: 100%">
    <ng-container *ngTemplateOutlet="fieldTemplate"></ng-container>
  </div>

  <div *ngIf="content?.group" style="width: 100%; height: 100%">
    <ng-container *ngTemplateOutlet="groupTemplate"></ng-container>
  </div>
</div>

<ng-template #fieldTemplate>
  <div
    [ngClass]="{'widget-container__field': true, 'widget-container__link': content.link}"
    (click)="content.link ? routeToLink() : ''"
    [innerHtml]="prepareFieldValue()">
  </div>
</ng-template>

<ng-template #groupTemplate>
  <app-grid
    [widgets]="content.group"
    [movable]="false"
    [editable]="false"
    [showGrid]="true"
    [showPanel]="false"
    [resizable]="false"
    [cols]="content.grid.cols"
    [rows]="content.grid.rows"
    [gridWidth]="'100%'"
    [gridHeight]="'100%'">
  </app-grid>
</ng-template>